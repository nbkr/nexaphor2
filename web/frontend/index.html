<html>
    <head>
        <title>Frontend Test</title>
    </head>
    <body>


    <script src="https://cdn.socket.io/socket.io-1.3.7.js"></script>
    <script>
      var socket = io.connect('http://localhost:8080');
         socket.on('tfout1/port0', function (data) {
            console.log('Got state change for tfout1/port0, new state: ' + data);

            if (data == 'up') {
                document.getElementById('licht1').textContent = 'an';
            }

            if (data == 'down') {
                document.getElementById('licht1').textContent = 'aus';
            }

         });

    </script>

        <script>
            function publish(topic, message) {
                console.log('Publishing in topic "' + topic + '" the message "' + message + '"');
                socket.emit(topic, message);
            }

            // Getting the inital state of the lamp.
            publish('tfout1/port0/set', 'current');
        </script>

        Status Licht 1: <span id='licht1'>unbekannt</span><br>
        <button onClick="publish('tfout1/port0/set', 'up'); return false">Licht An</button>
        <button onClick="publish('tfout1/port0/set', 'down'); return false">Licht Aus</button>
        <hr>
        <button onClick="publish('test', 'test'); return false">Test</button>
        <button onClick="publish('test2', 'test'); return false">Test2</button>

    </body>
</html>
